(function(a,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(["exports"],e):(a=typeof globalThis!="undefined"?globalThis:a||self,e(a.fakelink={}))})(this,function(a){"use strict";var f=Object.defineProperty;var d=(a,e,n)=>e in a?f(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var u=(a,e,n)=>(d(a,typeof e!="symbol"?e+"":e,n),n);class e{constructor(t=document){u(this,"context");this.context=t.parentElement||document,this.run()}run(){this.muteLinks(),this.createLinks()}static getLinkAttributesAllowed(){return["href","hreflang","target","rel","download","ping","type"]}static camelCaseToKebabCase(t){return t.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}static replaceTag(t,i){const r=document.createElement(i),s=t.attributes;for(let c=0;c<s.length;c++){const o=s[c];r.setAttribute(o.name,o.value)}r.innerHTML=t.innerHTML,t.replaceWith(r)}muteLinks(){var t;(t=this.getFlMutes())==null||t.forEach(e.muteLink)}static muteLink(t){const i=t.getAttribute("data-fl-mute")||"div";t.removeAttribute("data-fl-mute"),e.getLinkAttributesAllowed().forEach(r=>{t.removeAttribute(r)}),e.replaceTag(t,i)}createLinks(){this.getFlHrefs().forEach(e.createLink)}static createLink(t){Object.keys(Object.assign({},t.dataset)).forEach(r=>{const s=e.camelCaseToKebabCase(r);if(s.startsWith("fl-")){const c=t.dataset[r]||"";t.removeAttribute(`data-${s}`);const o=s.replace("fl-","");e.getLinkAttributesAllowed().includes(o)&&t.setAttribute(o,c)}}),e.replaceTag(t,"a")}getFlMutes(){return this.context.querySelectorAll("[data-fl-mute]")}getFlHrefs(){return this.context.querySelectorAll("[data-fl-href]")}}class n{attach(t){new e(t)}detach(){}}const l=new n;a.Fakelink=e,a.FakelinkDrupalBehaviorInstance=l,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
